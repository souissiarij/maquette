<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin - Lancer un √âv√©nement</title>
    
    <!-- Favicons -->
    <link href="assets/img/favicon.png" rel="icon">
    <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400;500;700&display=swap" rel="stylesheet">
    
    <!-- Vendor CSS Files -->
    <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
    <link href="assets/css/main.css" rel="stylesheet">
    <link href="assets/css/style.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            background-color: #f4f6f9;
        }
        .navbar {
            background-color: #34495e;
        }
        .card {
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            padding: 20px;
        }
        .chart-container {
            width: 100%;
            max-width: 500px;
            margin: auto;
        }
        .form-label {
            font-weight: 500;
        }
        .table th, .table td {
            text-align: center;
        }
    </style>
</head>
<body>
<header class="navbar navbar-dark p-3 d-flex align-items-center">
    <a href="index.html">
        <img src="assets/img/logo.png" alt="Logo" height="40">
    </a>
</header>
<div class="d-flex">
    <nav class="bg-light border-right p-3" style="width: 250px; height: 100vh;">
        <ul class="nav flex-column">
            <li class="nav-item"><a class="nav-link active" href="admin.html">üìä Tableau de Bord</a></li>
            <li class="nav-item"><a class="nav-link" href="even.html">üìÖ √âv√©nements</a></li>
            <li class="nav-item"><a class="nav-link" href="events.html">üìã Demandes</a></li>
            <li class="nav-item"><a class="nav-link" href="finances.html">üí∞ Financements</a></li>
            <li class="nav-item"><a class="nav-link" href="partners.html">ü§ù Partenariats</a></li>
            <li class="nav-item"><a class="nav-link" href="Membres.html">üë• Membres</a></li>
            <li class="nav-item"><a class="nav-link" href="reports.html">üìë Rapports</a></li>
            <li class="nav-item"><a class="nav-link" href="registrations.html">üìù Suivi des Inscriptions</a></li>
        </ul>
    </nav>
    
    <main class="container mt-4">
        <h2>Lancer un √âv√©nement</h2>

        <!-- Formulaire de lancement d'un √©v√©nement -->
        <div class="card bg-light mt-4">
            <h4>Formulaire de Lancement</h4>
            <form id="eventLaunchForm">
                <!-- S√©lection de l'√©v√©nement -->
                <div class="mb-3">
                    <label for="eventType" class="form-label">Type d'√âv√©nement</label>
                    <select class="form-control" id="eventType" required>
                        <option value="Forum">Forum</option>
                        <option value="Hackathon">Hackathon</option>
                        <option value="EnicARobotos">EnicARobotos</option>
                        <option value="Fawanis">Fawanis</option>
                        <option value="Autre">Autre</option>
                    </select>
                </div>

                <!-- Nom de l'√©v√©nement -->
                <div class="mb-3">
                    <label for="eventName" class="form-label">Nom de l'√âv√©nement</label>
                    <input type="text" class="form-control" id="eventName" required>
                </div>

                <!-- Description -->
                <div class="mb-3">
                    <label for="eventDescription" class="form-label">Description</label>
                    <textarea class="form-control" id="eventDescription" rows="4" required></textarea>
                </div>

                <!-- Dates de l'√©v√©nement -->
                <div class="mb-3">
                    <label for="eventStartDate" class="form-label">Date de d√©but</label>
                    <input type="date" class="form-control" id="eventStartDate" required>
                </div>
                <div class="mb-3">
                    <label for="eventEndDate" class="form-label">Date de fin</label>
                    <input type="date" class="form-control" id="eventEndDate" required>
                </div>

                <!-- Appel √† Candidature -->
                <div class="mb-3">
                    <label for="roleCall" class="form-label">Appel √† Candidature</label>
                    <textarea class="form-control" id="roleCall" rows="3" placeholder="Ex: Rejoindre le comit√© organisateur, comit√© m√©dia, etc." required></textarea>
                </div>

                <!-- S√©lection des types de comit√©s -->
                <div class="mb-3">
                    <label for="committeeType" class="form-label">Type de Comit√©</label>
                    <select class="form-control" id="committeeType" required>
                        <option value="Comit√© Organisateur">Comit√© Organisateur</option>
                        <option value="Comit√© M√©dia">Comit√© M√©dia</option>
                        <option value="Comit√© Logistique">Comit√© Logistique</option>
                        <option value="Comit√© Technique">Comit√© Technique</option>
                        <option value="Autre">Autre</option>
                    </select>
                </div>

                <!-- Soumettre -->
                <button type="submit" class="btn btn-primary">Lancer l'√âv√©nement</button>
            </form>
        </div>

        <hr>

        <!-- Liste des √©v√©nements en cours -->
        <h4>√âv√©nements en Cours</h4>
        <table class="table table-bordered mt-4">
            <thead>
                <tr>
                    <th>#</th>
                    <th>Nom de l'√âv√©nement</th>
                    <th>Type</th>
                    <th>Date de D√©but</th>
                    <th>√âtat</th>
                    <th>Appel √† Candidature</th>
                    <th>Type de Comit√©</th>
                </tr>
            </thead>
            <tbody id="eventList">
                <!-- Liste dynamique des √©v√©nements ici -->
            </tbody>
        </table>
    </main>
</div>

<script>
    // Gestion de l'ajout d'un √©v√©nement
    document.getElementById("eventLaunchForm").addEventListener("submit", function(event) {
        event.preventDefault(); // Emp√™cher l'envoi du formulaire par d√©faut

        // R√©cup√©rer les valeurs du formulaire
        const eventType = document.getElementById("eventType").value;
        const eventName = document.getElementById("eventName").value;
        const eventDescription = document.getElementById("eventDescription").value;
        const eventStartDate = document.getElementById("eventStartDate").value;
        const eventEndDate = document.getElementById("eventEndDate").value;
        const roleCall = document.getElementById("roleCall").value;
        const committeeType = document.getElementById("committeeType").value;

        // Cr√©er un nouvel √©v√©nement
        const newEvent = {
            name: eventName,
            type: eventType,
            startDate: eventStartDate,
            endDate: eventEndDate,
            status: "Planifi√©", // Statut par d√©faut
            roleCall: roleCall,
            committeeType: committeeType  // Ajouter le type de comit√©
        };

        // Ajouter l'√©v√©nement √† la liste
        const eventList = document.getElementById("eventList");
        const row = document.createElement("tr");

        row.innerHTML = `
            <td>#</td>
            <td>${newEvent.name}</td>
            <td>${newEvent.type}</td>
            <td>${newEvent.startDate}</td>
            <td>${newEvent.status}</td>
            <td>${newEvent.roleCall}</td>
            <td>${newEvent.committeeType}</td>  <!-- Afficher le type de comit√© -->
        `;
        
        eventList.appendChild(row);

        // R√©initialiser le formulaire
        document.getElementById("eventLaunchForm").reset();

        // Optionnel : Afficher un message de succ√®s
        alert("√âv√©nement lanc√© avec succ√®s !");
    });

    document.getElementById("eventLaunchForm").addEventListener("submit", function(event) {
        event.preventDefault(); // Emp√™cher l'envoi du formulaire par d√©faut

        // R√©cup√©rer les valeurs du formulaire
        const eventType = document.getElementById("eventType").value;
        const eventName = document.getElementById("eventName").value;
        const eventDescription = document.getElementById("eventDescription").value;
        const eventStartDate = document.getElementById("eventStartDate").value;
        const eventEndDate = document.getElementById("eventEndDate").value;
        const roleCall = document.getElementById("roleCall").value;
        const committeeType = document.getElementById("committeeType").value;

        // Cr√©er un nouvel √©v√©nement
        const newEvent = {
            name: eventName,
            type: eventType,
            startDate: eventStartDate,
            endDate: eventEndDate,
            status: "Planifi√©", // Statut par d√©faut
            roleCall: roleCall,
            committeeType: committeeType  // Ajouter le type de comit√©
        };

        // Stocker l'√©v√©nement dans localStorage
        localStorage.setItem('eventDetails', JSON.stringify(newEvent));

        // Rediriger vers la page de d√©tails
        window.location.href = "eventDetails.html";
    });
</script>
</body>
</html>
